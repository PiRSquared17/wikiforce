<apex:page sidebar="false" tabStyle="Wiki__c" controller="WikiMembersRemoveController" id="WMROverlay">
	
	<apex:stylesheet value="{!URLFOR($Resource.TeamsResources, 'inc/css/teamsMembersMassiveDelete.css')}" />
	
	<!-- Content  -->
	<apex:outputPanel id="masiveRemoveContainer" >
		<apex:outputPanel id="masiveRemove" rendered="{! NOT( error )}">
			<script>
				if( '{!finish}' == 'true' )
				{
					modal.close();
					reloadMemberList();
				} 
			</script>
			<div id="massiveRemoveMemberOverlay" style="display:none;" class="overlayForm">	
				<!-- Overlay Title -->
				<div class="overlayTitleContent">
					<div class="overlayTitle">Confirmation</div>
					<div class="overlayCloseEvent">
						<a href="Javascript:;" onclick="modal.close();">
							<img src="{!URLFOR($Resource.TeamsResources, 'images/layout/genericClose.gif')}" alt="Close Window" title="Close Window" />
						</a> 
					</div>
				</div>
				<!-- Overlay Content -->
				<div class="overlayMainContent">
					<apex:form id="newMemberForm">
						<apex:inputHidden id="idsToDelete" value="{!RemoveMemberIds}" />
						<div class="overlayFormContent" style="padding-bottom: 10px;">
							<table style="width:95%;"> 
								<tr>
									<td><span class="inputInfoDark">Are you sure you want to remove these members from {!WikiName}?</span></td>
								</tr>
								<tr>
									<td><span class="inputInfo">Once a member is removed there is no way to undo this action.</span></td>
								</tr>			
							</table>
						</div>
						<div class="overlaySeparateLine" />
						<!-- Saven and Cancel Buttons -->
						<div class="overlayFromButtons" align="center">
							<apex:commandButton styleClass="allButtons actionButtons" action="{!massiveRemoveMember}" id="massiveRemoveAction" onclick="$('paginationOverlay').show();setHeight('memberListContainer', 'paginationOverlay');" value="Continue" oncomplete="rRemoveOverlay()"/>
							<input class="allButtons cancelButtons" type="button" value="Cancel" onclick="modal.close();"/>
						</div>
						<apex:actionFunction name="rRemoveOverlay" rerender="masiveRemoveContainer" />
					</apex:form>
				</div>
			</div>
		</apex:outputPanel>
	
	
		<apex:outputPanel id="masiveRemoveError" rendered="{! error }">
			<div id="massiveRemoveMemberOverlay" style="display:none;" class="overlayForm">	
				<!-- Overlay Title -->
				<div class="overlayTitleContent">
					<div class="overlayTitle">Confirmation</div>
					<div class="overlayCloseEvent">
						<a href="Javascript:;" onclick="modal.close();">
							<img src="{!URLFOR($Resource.TeamsResources, 'images/layout/genericClose.gif')}" alt="Close Window" title="Close Window" />
						</a>
					</div>
				</div>
				<!-- Overlay Content -->
				<div class="overlayMainContent">
					<apex:form >
						<apex:inputHidden id="idsToDelete" value="{!RemoveMemberIds}" />
						<div class="overlayFormContent" style="padding-bottom: 10px;">
							<table style="width:95%;"> 
								<tr>
									<td><span class="inputInfoDark">You can not remove all admin members</span></td>
								</tr>
							</table>
						</div>
						<div class="overlaySeparateLine" />
						<!-- Saven and Cancel Buttons -->
						<div class="overlayFromButtons" align="center">
							<input class="allButtons cancelButtons" type="button" value="Cancel" onclick="modal.close();"/>
						</div>
					</apex:form>
				</div>
			</div>
		</apex:outputPanel>
	</apex:outputPanel>
</apex:page>